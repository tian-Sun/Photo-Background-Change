/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/remove-background/route";
exports.ids = ["app/api/remove-background/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fremove-background%2Froute&page=%2Fapi%2Fremove-background%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fremove-background%2Froute.ts&appDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fremove-background%2Froute&page=%2Fapi%2Fremove-background%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fremove-background%2Froute.ts&appDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var F_project_WebTools_008_headshotGenerator_Photo_Background_Change_src_app_api_remove_background_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/remove-background/route.ts */ \"(rsc)/./src/app/api/remove-background/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/remove-background/route\",\n        pathname: \"/api/remove-background\",\n        filename: \"route\",\n        bundlePath: \"app/api/remove-background/route\"\n    },\n    resolvedPagePath: \"F:\\\\project\\\\WebTools\\\\008_headshotGenerator\\\\Photo-Background-Change\\\\src\\\\app\\\\api\\\\remove-background\\\\route.ts\",\n    nextConfigOutput,\n    userland: F_project_WebTools_008_headshotGenerator_Photo_Background_Change_src_app_api_remove_background_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZyZW1vdmUtYmFja2dyb3VuZCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcmVtb3ZlLWJhY2tncm91bmQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZyZW1vdmUtYmFja2dyb3VuZCUyRnJvdXRlLnRzJmFwcERpcj1GJTNBJTVDcHJvamVjdCU1Q1dlYlRvb2xzJTVDMDA4X2hlYWRzaG90R2VuZXJhdG9yJTVDUGhvdG8tQmFja2dyb3VuZC1DaGFuZ2UlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUYlM0ElNUNwcm9qZWN0JTVDV2ViVG9vbHMlNUMwMDhfaGVhZHNob3RHZW5lcmF0b3IlNUNQaG90by1CYWNrZ3JvdW5kLUNoYW5nZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDaUU7QUFDOUk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkY6XFxcXHByb2plY3RcXFxcV2ViVG9vbHNcXFxcMDA4X2hlYWRzaG90R2VuZXJhdG9yXFxcXFBob3RvLUJhY2tncm91bmQtQ2hhbmdlXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHJlbW92ZS1iYWNrZ3JvdW5kXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yZW1vdmUtYmFja2dyb3VuZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3JlbW92ZS1iYWNrZ3JvdW5kXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZW1vdmUtYmFja2dyb3VuZC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkY6XFxcXHByb2plY3RcXFxcV2ViVG9vbHNcXFxcMDA4X2hlYWRzaG90R2VuZXJhdG9yXFxcXFBob3RvLUJhY2tncm91bmQtQ2hhbmdlXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHJlbW92ZS1iYWNrZ3JvdW5kXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fremove-background%2Froute&page=%2Fapi%2Fremove-background%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fremove-background%2Froute.ts&appDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./node_modules/replicate/lib sync recursive":
/*!******************************************!*\
  !*** ./node_modules/replicate/lib/ sync ***!
  \******************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/replicate/lib sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/./src/app/api/remove-background/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/remove-background/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var replicate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! replicate */ \"(rsc)/./node_modules/replicate/index.js\");\n/* harmony import */ var replicate__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(replicate__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst replicate = new (replicate__WEBPACK_IMPORTED_MODULE_1___default())({\n    auth: process.env.REPLICATE_API_TOKEN\n});\nconst MODEL_VERSION = \"f74986db0355b58403ed20963af156525e2891ea3c2d499bfbfb2a28cd87c5d7\";\nfunction isReadableStream(obj) {\n    return obj && typeof obj.getReader === \"function\";\n}\n// 正确处理图片流为 Buffer\nasync function streamToBuffer(stream) {\n    const reader = stream.getReader();\n    const chunks = [];\n    while(true){\n        const { done, value } = await reader.read();\n        if (done) break;\n        chunks.push(value);\n    }\n    return Buffer.concat(chunks);\n}\nasync function POST(request) {\n    console.log(\"🚀 开始处理背景移除请求\");\n    try {\n        const formData = await request.formData();\n        const file = formData.get(\"image\");\n        if (!file) {\n            console.log(\"❌ 未提供图片文件\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No image file provided\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"📝 接收到图片文件:\", {\n            name: file.name,\n            type: file.type,\n            size: file.size\n        });\n        // 如果没有配置 API token，返回演示模式响应\n        if (!process.env.REPLICATE_API_TOKEN) {\n            console.log(\"⚠️ 未配置 API token，使用演示模式\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                result: \"/demo/person.png\",\n                message: \"Running in demo mode - using sample image\"\n            });\n        }\n        // 将文件转换为 base64\n        const bytes = await file.arrayBuffer();\n        const buffer = Buffer.from(bytes);\n        const base64Image = buffer.toString(\"base64\");\n        const dataUrl = `data:${file.type};base64,${base64Image}`;\n        console.log(\"✅ 图片已转换为 base64\");\n        // 调用 Replicate API 移除背景\n        console.log(\"🔄 正在调用 Replicate API...\");\n        try {\n            let output = await replicate.run(\"cjwbw/rembg:f74986db0355b58403ed20963af156525e2891ea3c2d499bfbfb2a28cd87c5d7\", {\n                input: {\n                    image: dataUrl\n                }\n            });\n            // 兼容 ReadableStream 返回，转 Buffer 再转 base64\n            if (isReadableStream(output)) {\n                const buffer = await streamToBuffer(output);\n                output = buffer.toString(\"base64\");\n                console.log(\"【LOG】output 已从 ReadableStream 转为 base64，前30字符:\", output.slice(0, 30));\n            }\n            // 只对 base64 字符串加前缀\n            if (typeof output === \"string\" && !output.startsWith(\"data:image/png;base64,\")) {\n                output = `data:image/png;base64,${output}`;\n                console.log(\"【LOG】output 已加前缀，前30字符:\", output.slice(0, 30));\n            }\n            console.log(\"【LOG】最终返回 output 前100字符:\", typeof output === \"string\" ? output.slice(0, 100) : output);\n            // 如果输出是 URL，获取图片内容并转换为 base64\n            if (typeof output === \"string\" && output.startsWith(\"http\")) {\n                console.log(\"📥 正在获取远程图片数据...\");\n                const imageResponse = await fetch(output);\n                const arrayBuffer = await imageResponse.arrayBuffer();\n                const base64 = Buffer.from(arrayBuffer).toString(\"base64\");\n                const resultDataUrl = `data:image/png;base64,${base64}`;\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    result: resultDataUrl\n                });\n            }\n            // 如果输出已经是 base64 或其他格式，直接返回\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                result: output\n            });\n        } catch (apiError) {\n            console.error(\"❌ Replicate API 错误:\", apiError);\n            throw new Error(`Replicate API 错误: ${apiError instanceof Error ? apiError.message : String(apiError)}`);\n        }\n    } catch (error) {\n        console.error(\"❌ 背景移除错误:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Background removal failed\",\n            details: error instanceof Error ? error.message : String(error)\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9yZW1vdmUtYmFja2dyb3VuZC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ1Q7QUFFbEMsTUFBTUUsWUFBWSxJQUFJRCxrREFBU0EsQ0FBQztJQUM5QkUsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxtQkFBbUI7QUFDdkM7QUFFQSxNQUFNQyxnQkFBZ0I7QUFFdEIsU0FBU0MsaUJBQWlCQyxHQUFRO0lBQ2hDLE9BQU9BLE9BQU8sT0FBT0EsSUFBSUMsU0FBUyxLQUFLO0FBQ3pDO0FBRUEsa0JBQWtCO0FBQ2xCLGVBQWVDLGVBQWVDLE1BQXNCO0lBQ2xELE1BQU1DLFNBQVNELE9BQU9GLFNBQVM7SUFDL0IsTUFBTUksU0FBdUIsRUFBRTtJQUMvQixNQUFPLEtBQU07UUFDWCxNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUgsT0FBT0ksSUFBSTtRQUN6QyxJQUFJRixNQUFNO1FBQ1ZELE9BQU9JLElBQUksQ0FBQ0Y7SUFDZDtJQUNBLE9BQU9HLE9BQU9DLE1BQU0sQ0FBQ047QUFDdkI7QUFFTyxlQUFlTyxLQUFLQyxPQUFnQjtJQUN6Q0MsUUFBUUMsR0FBRyxDQUFDO0lBRVosSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTUgsUUFBUUcsUUFBUTtRQUN2QyxNQUFNQyxPQUFPRCxTQUFTRSxHQUFHLENBQUM7UUFFMUIsSUFBSSxDQUFDRCxNQUFNO1lBQ1RILFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU94QixxREFBWUEsQ0FBQzRCLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBeUIsR0FDbEM7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBUCxRQUFRQyxHQUFHLENBQUMsZUFBZTtZQUN6Qk8sTUFBTUwsS0FBS0ssSUFBSTtZQUNmQyxNQUFNTixLQUFLTSxJQUFJO1lBQ2ZDLE1BQU1QLEtBQUtPLElBQUk7UUFDakI7UUFFQSw0QkFBNEI7UUFDNUIsSUFBSSxDQUFDN0IsUUFBUUMsR0FBRyxDQUFDQyxtQkFBbUIsRUFBRTtZQUNwQ2lCLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU94QixxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztnQkFDdkJNLFNBQVM7Z0JBQ1RDLFFBQVE7Z0JBQ1JDLFNBQVM7WUFDWDtRQUNGO1FBRUEsZ0JBQWdCO1FBQ2hCLE1BQU1DLFFBQVEsTUFBTVgsS0FBS1ksV0FBVztRQUNwQyxNQUFNQyxTQUFTcEIsT0FBT3FCLElBQUksQ0FBQ0g7UUFDM0IsTUFBTUksY0FBY0YsT0FBT0csUUFBUSxDQUFDO1FBQ3BDLE1BQU1DLFVBQVUsQ0FBQyxLQUFLLEVBQUVqQixLQUFLTSxJQUFJLENBQUMsUUFBUSxFQUFFUyxhQUFhO1FBQ3pEbEIsUUFBUUMsR0FBRyxDQUFDO1FBRVosd0JBQXdCO1FBQ3hCRCxRQUFRQyxHQUFHLENBQUM7UUFFWixJQUFJO1lBQ0YsSUFBSW9CLFNBQVMsTUFBTTFDLFVBQVUyQyxHQUFHLENBQzlCLGdGQUNBO2dCQUNFQyxPQUFPO29CQUNMQyxPQUFPSjtnQkFDVDtZQUNGO1lBR0YsMENBQTBDO1lBQzFDLElBQUluQyxpQkFBaUJvQyxTQUFTO2dCQUM1QixNQUFNTCxTQUFTLE1BQU01QixlQUFlaUM7Z0JBQ3BDQSxTQUFTTCxPQUFPRyxRQUFRLENBQUM7Z0JBQ3pCbkIsUUFBUUMsR0FBRyxDQUFDLGtEQUFrRCxPQUFtQndCLEtBQUssQ0FBQyxHQUFHO1lBQzVGO1lBQ0EsbUJBQW1CO1lBQ25CLElBQUksT0FBT0osV0FBVyxZQUFZLENBQUMsT0FBbUJLLFVBQVUsQ0FBQywyQkFBMkI7Z0JBQzFGTCxTQUFTLENBQUMsc0JBQXNCLEVBQUVBLFFBQVE7Z0JBQzFDckIsUUFBUUMsR0FBRyxDQUFDLDJCQUEyQixPQUFtQndCLEtBQUssQ0FBQyxHQUFHO1lBQ3JFO1lBQ0F6QixRQUFRQyxHQUFHLENBQUMsNEJBQTRCLE9BQU9vQixXQUFXLFdBQVcsT0FBbUJJLEtBQUssQ0FBQyxHQUFHLE9BQU9KO1lBRXhHLDhCQUE4QjtZQUM5QixJQUFJLE9BQU9BLFdBQVcsWUFBWUEsT0FBT0ssVUFBVSxDQUFDLFNBQVM7Z0JBQzNEMUIsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE1BQU0wQixnQkFBZ0IsTUFBTUMsTUFBTVA7Z0JBQ2xDLE1BQU1OLGNBQWMsTUFBTVksY0FBY1osV0FBVztnQkFDbkQsTUFBTWMsU0FBU2pDLE9BQU9xQixJQUFJLENBQUNGLGFBQWFJLFFBQVEsQ0FBQztnQkFDakQsTUFBTVcsZ0JBQWdCLENBQUMsc0JBQXNCLEVBQUVELFFBQVE7Z0JBRXZELE9BQU9wRCxxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztvQkFDdkJNLFNBQVM7b0JBQ1RDLFFBQVFrQjtnQkFDVjtZQUNGO1lBRUEsNEJBQTRCO1lBQzVCLE9BQU9yRCxxREFBWUEsQ0FBQzRCLElBQUksQ0FBQztnQkFDdkJNLFNBQVM7Z0JBQ1RDLFFBQVFTO1lBQ1Y7UUFDRixFQUFFLE9BQU9VLFVBQVU7WUFDakIvQixRQUFRTSxLQUFLLENBQUMsdUJBQXVCeUI7WUFDckMsTUFBTSxJQUFJQyxNQUFNLENBQUMsa0JBQWtCLEVBQUVELG9CQUFvQkMsUUFBUUQsU0FBU2xCLE9BQU8sR0FBR29CLE9BQU9GLFdBQVc7UUFDeEc7SUFFRixFQUFFLE9BQU96QixPQUFPO1FBQ2ROLFFBQVFNLEtBQUssQ0FBQyxhQUFhQTtRQUMzQixPQUFPN0IscURBQVlBLENBQUM0QixJQUFJLENBQ3RCO1lBQUVDLE9BQU87WUFBNkI0QixTQUFTNUIsaUJBQWlCMEIsUUFBUTFCLE1BQU1PLE9BQU8sR0FBR29CLE9BQU8zQjtRQUFPLEdBQ3RHO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJGOlxccHJvamVjdFxcV2ViVG9vbHNcXDAwOF9oZWFkc2hvdEdlbmVyYXRvclxcUGhvdG8tQmFja2dyb3VuZC1DaGFuZ2VcXHNyY1xcYXBwXFxhcGlcXHJlbW92ZS1iYWNrZ3JvdW5kXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IFJlcGxpY2F0ZSBmcm9tIFwicmVwbGljYXRlXCI7XHJcblxyXG5jb25zdCByZXBsaWNhdGUgPSBuZXcgUmVwbGljYXRlKHtcclxuICBhdXRoOiBwcm9jZXNzLmVudi5SRVBMSUNBVEVfQVBJX1RPS0VOLFxyXG59KTtcclxuXHJcbmNvbnN0IE1PREVMX1ZFUlNJT04gPSBcImY3NDk4NmRiMDM1NWI1ODQwM2VkMjA5NjNhZjE1NjUyNWUyODkxZWEzYzJkNDk5YmZiZmIyYTI4Y2Q4N2M1ZDdcIjtcclxuXHJcbmZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW0ob2JqOiBhbnkpOiBvYmogaXMgUmVhZGFibGVTdHJlYW0ge1xyXG4gIHJldHVybiBvYmogJiYgdHlwZW9mIG9iai5nZXRSZWFkZXIgPT09IFwiZnVuY3Rpb25cIjtcclxufVxyXG5cclxuLy8g5q2j56Gu5aSE55CG5Zu+54mH5rWB5Li6IEJ1ZmZlclxyXG5hc3luYyBmdW5jdGlvbiBzdHJlYW1Ub0J1ZmZlcihzdHJlYW06IFJlYWRhYmxlU3RyZWFtKTogUHJvbWlzZTxCdWZmZXI+IHtcclxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XHJcbiAgY29uc3QgY2h1bmtzOiBVaW50OEFycmF5W10gPSBbXTtcclxuICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcclxuICAgIGlmIChkb25lKSBicmVhaztcclxuICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcclxuICB9XHJcbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoY2h1bmtzKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xyXG4gIGNvbnNvbGUubG9nKFwi8J+agCDlvIDlp4vlpITnkIbog4zmma/np7vpmaTor7fmsYJcIik7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xyXG4gICAgY29uc3QgZmlsZSA9IGZvcm1EYXRhLmdldChcImltYWdlXCIpIGFzIEZpbGU7XHJcblxyXG4gICAgaWYgKCFmaWxlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwi4p2MIOacquaPkOS+m+WbvueJh+aWh+S7tlwiKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6IFwiTm8gaW1hZ2UgZmlsZSBwcm92aWRlZFwiIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCLwn5OdIOaOpeaUtuWIsOWbvueJh+aWh+S7tjpcIiwge1xyXG4gICAgICBuYW1lOiBmaWxlLm5hbWUsXHJcbiAgICAgIHR5cGU6IGZpbGUudHlwZSxcclxuICAgICAgc2l6ZTogZmlsZS5zaXplXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDlpoLmnpzmsqHmnInphY3nva4gQVBJIHRva2Vu77yM6L+U5Zue5ryU56S65qih5byP5ZON5bqUXHJcbiAgICBpZiAoIXByb2Nlc3MuZW52LlJFUExJQ0FURV9BUElfVE9LRU4pIHtcclxuICAgICAgY29uc29sZS5sb2coXCLimqDvuI8g5pyq6YWN572uIEFQSSB0b2tlbu+8jOS9v+eUqOa8lOekuuaooeW8j1wiKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIHJlc3VsdDogXCIvZGVtby9wZXJzb24ucG5nXCIsXHJcbiAgICAgICAgbWVzc2FnZTogXCJSdW5uaW5nIGluIGRlbW8gbW9kZSAtIHVzaW5nIHNhbXBsZSBpbWFnZVwiLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlsIbmlofku7bovazmjaLkuLogYmFzZTY0XHJcbiAgICBjb25zdCBieXRlcyA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcclxuICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcclxuICAgIGNvbnN0IGJhc2U2NEltYWdlID0gYnVmZmVyLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xyXG4gICAgY29uc3QgZGF0YVVybCA9IGBkYXRhOiR7ZmlsZS50eXBlfTtiYXNlNjQsJHtiYXNlNjRJbWFnZX1gO1xyXG4gICAgY29uc29sZS5sb2coXCLinIUg5Zu+54mH5bey6L2s5o2i5Li6IGJhc2U2NFwiKTtcclxuXHJcbiAgICAvLyDosIPnlKggUmVwbGljYXRlIEFQSSDnp7vpmaTog4zmma9cclxuICAgIGNvbnNvbGUubG9nKFwi8J+UhCDmraPlnKjosIPnlKggUmVwbGljYXRlIEFQSS4uLlwiKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IG91dHB1dCA9IGF3YWl0IHJlcGxpY2F0ZS5ydW4oXHJcbiAgICAgICAgXCJjandidy9yZW1iZzpmNzQ5ODZkYjAzNTViNTg0MDNlZDIwOTYzYWYxNTY1MjVlMjg5MWVhM2MyZDQ5OWJmYmZiMmEyOGNkODdjNWQ3XCIsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaW5wdXQ6IHtcclxuICAgICAgICAgICAgaW1hZ2U6IGRhdGFVcmxcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICkgYXMgdW5rbm93bjtcclxuXHJcbiAgICAgIC8vIOWFvOWuuSBSZWFkYWJsZVN0cmVhbSDov5Tlm57vvIzovawgQnVmZmVyIOWGjei9rCBiYXNlNjRcclxuICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW0ob3V0cHV0KSkge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHN0cmVhbVRvQnVmZmVyKG91dHB1dCk7XHJcbiAgICAgICAgb3V0cHV0ID0gYnVmZmVyLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi44CQTE9H44CRb3V0cHV0IOW3suS7jiBSZWFkYWJsZVN0cmVhbSDovazkuLogYmFzZTY077yM5YmNMzDlrZfnrKY6XCIsIChvdXRwdXQgYXMgc3RyaW5nKS5zbGljZSgwLCAzMCkpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIOWPquWvuSBiYXNlNjQg5a2X56ym5Liy5Yqg5YmN57yAXHJcbiAgICAgIGlmICh0eXBlb2Ygb3V0cHV0ID09PSBcInN0cmluZ1wiICYmICEob3V0cHV0IGFzIHN0cmluZykuc3RhcnRzV2l0aChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxcIikpIHtcclxuICAgICAgICBvdXRwdXQgPSBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LCR7b3V0cHV0fWA7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLjgJBMT0fjgJFvdXRwdXQg5bey5Yqg5YmN57yA77yM5YmNMzDlrZfnrKY6XCIsIChvdXRwdXQgYXMgc3RyaW5nKS5zbGljZSgwLCAzMCkpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKFwi44CQTE9H44CR5pyA57uI6L+U5ZueIG91dHB1dCDliY0xMDDlrZfnrKY6XCIsIHR5cGVvZiBvdXRwdXQgPT09IFwic3RyaW5nXCIgPyAob3V0cHV0IGFzIHN0cmluZykuc2xpY2UoMCwgMTAwKSA6IG91dHB1dCk7XHJcblxyXG4gICAgICAvLyDlpoLmnpzovpPlh7rmmK8gVVJM77yM6I635Y+W5Zu+54mH5YaF5a655bm26L2s5o2i5Li6IGJhc2U2NFxyXG4gICAgICBpZiAodHlwZW9mIG91dHB1dCA9PT0gXCJzdHJpbmdcIiAmJiBvdXRwdXQuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk6Ug5q2j5Zyo6I635Y+W6L+c56iL5Zu+54mH5pWw5o2uLi4uXCIpO1xyXG4gICAgICAgIGNvbnN0IGltYWdlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChvdXRwdXQpO1xyXG4gICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgaW1hZ2VSZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcclxuICAgICAgICBjb25zdCByZXN1bHREYXRhVXJsID0gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke2Jhc2U2NH1gO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSwgXHJcbiAgICAgICAgICByZXN1bHQ6IHJlc3VsdERhdGFVcmxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5aaC5p6c6L6T5Ye65bey57uP5pivIGJhc2U2NCDmiJblhbbku5bmoLzlvI/vvIznm7TmjqXov5Tlm55cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSwgXHJcbiAgICAgICAgcmVzdWx0OiBvdXRwdXQgXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoYXBpRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBSZXBsaWNhdGUgQVBJIOmUmeivrzpcIiwgYXBpRXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcGxpY2F0ZSBBUEkg6ZSZ6K+vOiAke2FwaUVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBhcGlFcnJvci5tZXNzYWdlIDogU3RyaW5nKGFwaUVycm9yKX1gKTtcclxuICAgIH1cclxuXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLinYwg6IOM5pmv56e76Zmk6ZSZ6K+vOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IFwiQmFja2dyb3VuZCByZW1vdmFsIGZhaWxlZFwiLCBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcikgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiUmVwbGljYXRlIiwicmVwbGljYXRlIiwiYXV0aCIsInByb2Nlc3MiLCJlbnYiLCJSRVBMSUNBVEVfQVBJX1RPS0VOIiwiTU9ERUxfVkVSU0lPTiIsImlzUmVhZGFibGVTdHJlYW0iLCJvYmoiLCJnZXRSZWFkZXIiLCJzdHJlYW1Ub0J1ZmZlciIsInN0cmVhbSIsInJlYWRlciIsImNodW5rcyIsImRvbmUiLCJ2YWx1ZSIsInJlYWQiLCJwdXNoIiwiQnVmZmVyIiwiY29uY2F0IiwiUE9TVCIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwiZm9ybURhdGEiLCJmaWxlIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwibmFtZSIsInR5cGUiLCJzaXplIiwic3VjY2VzcyIsInJlc3VsdCIsIm1lc3NhZ2UiLCJieXRlcyIsImFycmF5QnVmZmVyIiwiYnVmZmVyIiwiZnJvbSIsImJhc2U2NEltYWdlIiwidG9TdHJpbmciLCJkYXRhVXJsIiwib3V0cHV0IiwicnVuIiwiaW5wdXQiLCJpbWFnZSIsInNsaWNlIiwic3RhcnRzV2l0aCIsImltYWdlUmVzcG9uc2UiLCJmZXRjaCIsImJhc2U2NCIsInJlc3VsdERhdGFVcmwiLCJhcGlFcnJvciIsIkVycm9yIiwiU3RyaW5nIiwiZGV0YWlscyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/remove-background/route.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/replicate"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fremove-background%2Froute&page=%2Fapi%2Fremove-background%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fremove-background%2Froute.ts&appDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cproject%5CWebTools%5C008_headshotGenerator%5CPhoto-Background-Change&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();